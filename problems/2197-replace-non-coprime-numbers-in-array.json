{
  "title": "Replace Non-Coprime Numbers in Array",
  "problem_id": "2307",
  "frontend_id": "2197",
  "difficulty": "Hard",
  "problem_slug": "replace-non-coprime-numbers-in-array",
  "topics": [
    "Array",
    "Math",
    "Stack",
    "Number Theory"
  ],
  "description": "You are given an array of integers nums. Perform the following steps:\nReturn the final modified array. It can be shown that replacing adjacent non-coprime numbers in any arbitrary order will lead to the same result.\nThe test cases are generated such that the values in the final array are less than or equal to 108.\nTwo values x and y are non-coprime if GCD(x, y) > 1 where GCD(x, y) is the Greatest Common Divisor of x and y.\nExample 1:\nExample 2:\nConstraints:",
  "examples": [
    {
      "example_num": 1,
      "example_text": "Input: nums = [6,4,3,2,7,6,2]\nOutput: [12,7,6]\nExplanation: \n- (6, 4) are non-coprime with LCM(6, 4) = 12. Now, nums = [12,3,2,7,6,2].\n- (12, 3) are non-coprime with LCM(12, 3) = 12. Now, nums = [12,2,7,6,2].\n- (12, 2) are non-coprime with LCM(12, 2) = 12. Now, nums = [12,7,6,2].\n- (6, 2) are non-coprime with LCM(6, 2) = 6. Now, nums = [12,7,6].\nThere are no more adjacent non-coprime numbers in nums.\nThus, the final modified array is [12,7,6].\nNote that there are other ways to obtain the same resultant array.",
      "images": []
    },
    {
      "example_num": 2,
      "example_text": "Input: nums = [2,2,1,1,3,3,3]\nOutput: [2,1,1,3]\nExplanation: \n- (3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,3,3].\n- (3, 3) are non-coprime with LCM(3, 3) = 3. Now, nums = [2,2,1,1,3].\n- (2, 2) are non-coprime with LCM(2, 2) = 2. Now, nums = [2,1,1,3].\nThere are no more adjacent non-coprime numbers in nums.\nThus, the final modified array is [2,1,1,3].\nNote that there are other ways to obtain the same resultant array.",
      "images": []
    }
  ],
  "constraints": [
    "1 <= nums.length <= 105",
    "1 <= nums[i] <= 105",
    "The test cases are generated such that the values in the final array are less than or equal to 108."
  ],
  "follow_ups": [],
  "hints": [
    "Notice that the order of merging two numbers into their LCM does not matter so we can greedily merge elements to its left if possible.",
    "If a new value is formed, we should recursively check if it can be merged with the value to its left.",
    "To simulate the merge efficiently, we can maintain a stack that stores processed elements. When we iterate through the array, we only compare with the top of the stack (which is the value to its left)."
  ],
  "code_snippets": {
    "cpp": "class Solution {\npublic:\n    vector<int> replaceNonCoprimes(vector<int>& nums) {\n        \n    }\n};",
    "java": "class Solution {\n    public List<Integer> replaceNonCoprimes(int[] nums) {\n        \n    }\n}",
    "python": "class Solution(object):\n    def replaceNonCoprimes(self, nums):\n        \"\"\"\n        :type nums: List[int]\n        :rtype: List[int]\n        \"\"\"\n        ",
    "python3": "class Solution:\n    def replaceNonCoprimes(self, nums: List[int]) -> List[int]:\n        ",
    "c": "/**\n * Note: The returned array must be malloced, assume caller calls free().\n */\nint* replaceNonCoprimes(int* nums, int numsSize, int* returnSize) {\n    \n}",
    "csharp": "public class Solution {\n    public IList<int> ReplaceNonCoprimes(int[] nums) {\n        \n    }\n}",
    "javascript": "/**\n * @param {number[]} nums\n * @return {number[]}\n */\nvar replaceNonCoprimes = function(nums) {\n    \n};",
    "typescript": "function replaceNonCoprimes(nums: number[]): number[] {\n    \n};",
    "php": "class Solution {\n\n    /**\n     * @param Integer[] $nums\n     * @return Integer[]\n     */\n    function replaceNonCoprimes($nums) {\n        \n    }\n}",
    "swift": "class Solution {\n    func replaceNonCoprimes(_ nums: [Int]) -> [Int] {\n        \n    }\n}",
    "kotlin": "class Solution {\n    fun replaceNonCoprimes(nums: IntArray): List<Int> {\n        \n    }\n}",
    "dart": "class Solution {\n  List<int> replaceNonCoprimes(List<int> nums) {\n    \n  }\n}",
    "golang": "func replaceNonCoprimes(nums []int) []int {\n    \n}",
    "ruby": "# @param {Integer[]} nums\n# @return {Integer[]}\ndef replace_non_coprimes(nums)\n    \nend",
    "scala": "object Solution {\n    def replaceNonCoprimes(nums: Array[Int]): List[Int] = {\n        \n    }\n}",
    "rust": "impl Solution {\n    pub fn replace_non_coprimes(nums: Vec<i32>) -> Vec<i32> {\n        \n    }\n}",
    "racket": "(define/contract (replace-non-coprimes nums)\n  (-> (listof exact-integer?) (listof exact-integer?))\n  )",
    "erlang": "-spec replace_non_coprimes(Nums :: [integer()]) -> [integer()].\nreplace_non_coprimes(Nums) ->\n  .",
    "elixir": "defmodule Solution do\n  @spec replace_non_coprimes(nums :: [integer]) :: [integer]\n  def replace_non_coprimes(nums) do\n    \n  end\nend"
  }
}